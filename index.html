<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ログイン | 在庫管理（QR）</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="styles.css" />

  <!-- Libs -->
  <script src="https://unpkg.com/html5-qrcode" defer></script>

  <!-- Konfigurasi -->
  <script src="config.js" defer></script>

  <!-- Login app -->
  <script src="login.js" defer></script>
</head>
<body class="light login-page">

  <!-- Background dengan gambar dari tohatsu.co.jp -->
  <div class="login-bg"></div>
  <div class="login-overlay"></div>

  <!-- App bar (responsive + burger) -->
  <header class="appbar">
    <button class="burger" id="btn-burger" aria-label="menu">☰</button>
    <div class="brand">
      <img src="./assets/tsh.png" alt="logo" />
      <span>在庫管理</span>
    </div>
    <nav class="topnav" id="topnav">
      <a href="#" id="link-qr">QRログイン</a>
    </nav>
  </header>

  <!-- Login card -->
  <main class="login-wrap">
    <form class="card login-card" id="login-form">
      <h1>ログイン</h1>
      <p class="muted">ユーザーID か QR でログインできます。</p>

      <label class="lbl">ユーザーID
        <input id="pl-id" required autocomplete="username" />
      </label>

      <label class="lbl">パスコード
        <input id="pl-pass" type="password" required autocomplete="current-password" />
      </label>

      <div class="actions">
        <button type="button" class="ghost" id="btn-open-qr">QRログイン</button>
        <button type="submit" class="primary">ログイン</button>
      </div>
    </form>
  </main>

  <!-- QR Login dialog -->
  <dialog id="dlg-qr" class="qr-dialog">
    <form method="dialog">
      <h3>QRログイン</h3>
      <div id="login-scanner" class="scanner"></div>
      <div class="muted" style="margin-top:8px;">ユーザーQRをかざしてください</div>
      <menu>
        <button value="cancel">閉じる</button>
      </menu>
    </form>
  </dialog>

</body>
</html>
