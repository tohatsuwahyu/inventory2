:root{
  --bg: #f6f8fc;
  --surface: #ffffff;
  --text: #1f2937;
  --muted:#6b7280;
  --primary:#2563eb;
  --accent:#f97316;
  --warn:#e11d48;
  --border:#e5e7eb;
  --ring: rgba(37,99,235,.15);
  --shadow: 0 8px 28px rgba(31,41,55,.06);
}

*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0;
  font-family:"Noto Sans JP", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  color:var(--text); background:var(--bg);
  -webkit-font-smoothing:antialiased;
}

/* Top gradient header */
.top-gradient{
  background:linear-gradient(110deg,#f2f6ff 0%,#fef6ff 100%);
  border-bottom:1px solid var(--border);
  padding:10px 16px; display:grid; grid-template-columns:220px 1fr auto; gap:12px;
  position:sticky; top:0; z-index:10;
}
.brand{ display:flex; gap:10px; align-items:center }
.brand img{ width:28px; height:28px }
.brand-name{ font-weight:700 }
.search-wrap{ display:flex; align-items:center }
.search{
  width:100%; padding:10px 12px; border:1px solid var(--border); border-radius:12px; background:var(--surface);
}
.actions{ display:flex; align-items:center; gap:8px }
.muted{ color:var(--muted) }

/* Layout */
.layout{ display:grid; grid-template-columns: 240px 1fr; min-height: calc(100vh - 64px); }
.sidebar{
  background:var(--surface); border-right:1px solid var(--border); padding:14px 12px; display:flex; flex-direction:column; justify-content:space-between;
}
.sb-title{ font-size:12px; color:var(--muted); margin:8px 6px }
.sb-sep{ height:8px }
.sb-nav{ display:flex; gap:6px; }
.sb-link{
  border:1px solid transparent; background:var(--surface);
  padding:10px 12px; border-radius:10px; cursor:pointer; text-align:left;
}
.sb-link:hover{ border-color:var(--border); box-shadow:var(--shadow) }
.sb-link.active{ border-color:var(--border); background:#f9fbff }
.badge{ margin-left:6px; background:#fee2e2; color:#b91c1c; padding:2px 8px; border-radius:999px; font-size:12px; display:none }
.sb-foot{ color:var(--muted); font-size:12px; padding:8px 6px }

.content{ padding:18px 20px }
.view{ display:none } .view.active{ display:block }

/* Buttons */
button{ font:inherit }
button.primary{ background:var(--primary); color:#fff; border:0; padding:10px 14px; border-radius:12px; cursor:pointer }
button.accent{ background:var(--accent); color:#fff; border:0; padding:10px 14px; border-radius:12px; cursor:pointer }
button.ghost{ background:var(--surface); color:var(--text); border:1px solid var(--border); padding:9px 12px; border-radius:12px; cursor:pointer }
button.full{ width:100% }
button:focus-visible{ outline:none; box-shadow:0 0 0 4px var(--ring) }

/* Cards & grids */
.card{ background:var(--surface); border:1px solid var(--border); border-radius:16px; padding:16px; box-shadow:var(--shadow); margin-bottom:16px }
.card-head{ font-weight:700; margin-bottom:10px }
.grid-2{ display:grid; gap:16px; grid-template-columns:1fr 1fr }
@media (max-width:960px){ .layout{ grid-template-columns:1fr } .grid-2{ grid-template-columns:1fr } }

/* KPI */
.kpi-row{ display:grid; gap:16px; grid-template-columns:repeat(4,1fr); margin-bottom:16px }
.kpi{
  background:var(--surface); border:1px solid var(--border); border-radius:16px; padding:12px 14px; box-shadow:var(--shadow)
}
.kpi-title{ color:var(--muted); font-size:12px }
.kpi-val{ font-size:24px; font-weight:700; margin-top:6px }
.kpi.warn .kpi-val{ color:var(--warn) }

/* Lists & tables */
.list{ list-style:none; margin:0; padding:0 }
.list li{ padding:8px 10px; border-bottom:1px solid var(--border) }
table{ width:100%; border-collapse:collapse; background:var(--surface); border:1px solid var(--border); border-radius:14px; overflow:hidden; box-shadow:var(--shadow) }
thead th{ background:#f7f9ff; color:var(--muted); font-weight:600; padding:10px; border-bottom:1px solid var(--border) }
tbody td{ padding:10px; border-bottom:1px solid var(--border) }

/* Forms */
.form label{ display:block; font-size:12px; color:var(--muted); margin-top:8px }
.form input, .form select{
  width:100%; padding:10px 12px; border:1px solid var(--border); border-radius:12px; background:var(--surface)
}

/* Scanner */
.scanner{
  width:100%; min-height:240px; background:var(--surface);
  border:2px dashed #d1d5db; border-radius:14px; display:flex; align-items:center; justify-content:center
}

/* Detail */
.detail-wrap{ display:grid; grid-template-columns:300px 1fr; gap:16px }
.detail-side{ display:flex; flex-direction:column; gap:12px }
.detail-card{ background:var(--surface); border:1px solid var(--border); border-radius:14px; padding:14px; box-shadow:var(--shadow) }
.title{ font-weight:700; font-size:18px }

/* File input friendly */
label.file{ position:relative; overflow:hidden }
label.file input[type="file"]{ position:absolute; inset:0; opacity:0; cursor:pointer }
